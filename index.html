<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>BCT IP Locator ‚Äî Bangladesh Cyber Troops</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg-1: #061224;
  --bg-2: #1b2740;
  --accent: #0ff6d2;
  --accent-2: #8a5af8;
  --card: rgba(255,255,255,0.03);
  --glass: rgba(255,255,255,0.06);
  --muted: #bfc7d6;
  --text: #eaf6f4;
  --glass-border: rgba(255,255,255,0.06);
  --success: #6ef5b4;
  --danger: #ff7a9a;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body { height: 100%; }

body {
  font-family: 'Poppins', system-ui, Arial, Helvetica, sans-serif;
  background: radial-gradient(1000px 400px at 10% 10%, rgba(138,90,248,0.12), transparent),
              linear-gradient(180deg, var(--bg-1), var(--bg-2));
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 28px 16px;
  transition: background 0.3s ease;
}

/* Topbar */
.topbar {
  width: 100%;
  max-width: 1100px;
  background: linear-gradient(90deg, rgba(255,255,255,0.95), rgba(245,245,245,0.95));
  border-radius: 16px;
  padding: 12px 20px;
  margin-bottom: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  box-shadow: 0 10px 30px rgba(10,10,10,0.25);
  overflow: visible;
  transition: all 0.2s ease;
}
.topbar:hover {
  transform: translateY(-2px);
  box-shadow: 0 15px 35px rgba(10,10,10,0.35);
}
.topbar::before {
  content: "";
  position: absolute;
  left: -40px; right: -40px;
  top: 100%;
  height: 18px;
  background: linear-gradient(90deg, rgba(138,90,248,0.12), rgba(15,246,210,0.08));
  filter: blur(20px);
  opacity: 0.9;
  transform: translateY(-10px) rotate(-1deg);
  border-radius: 12px;
  z-index: 0;
}
.topbar h1 {
  font-family: 'Orbitron', sans-serif;
  color: #0b0b0b;
  font-weight: 800;
  letter-spacing: 1px;
  font-size: 20px;
  z-index: 2;
}
.topbar .sub {
  position: absolute;
  right: 14px;
  font-size: 12px;
  color: #333;
  z-index: 2;
  opacity: 0.8;
}

/* Layout */
.layout {
  max-width: 1100px;
  width: 100%;
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 20px;
  align-items: start;
}
@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; padding-bottom: 24px; }
}

/* Panels */
.panel {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
  border-radius: 16px;
  padding: 18px;
  border: 1px solid var(--glass-border);
  box-shadow: 0 8px 30px rgba(6,9,20,0.55);
  backdrop-filter: blur(10px) saturate(130%);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.panel:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 45px rgba(11,17,30,0.5);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}
.panel-header h2 {
  font-family: 'Orbitron', sans-serif;
  font-size: 18px;
  letter-spacing: 0.6px;
  color: var(--accent-2);
}

/* Cards */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
  gap: 14px;
  margin-top: 16px;
}

.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 14px;
  padding: 14px;
  border: 1px solid rgba(255,255,255,0.04);
  position: relative;
  overflow: hidden;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
}
.card:hover { 
  transform: translateY(-6px); 
  box-shadow: 0 18px 40px rgba(11,17,30,0.5); 
}
.label {
  font-size: 12px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 6px;
}
.value {
  font-size: 15px;
  color: var(--text);
  word-break: break-word;
}
.value.big { font-size: 18px; font-weight: 600; color: #fff; letter-spacing: 0.2px; }
.mini-row { display: flex; gap: 8px; align-items: center; justify-content: space-between; }
.copy-btn {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--muted);
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
  transition: all 0.12s ease;
}
.copy-btn:hover { color: var(--accent); transform: translateY(-2px); }
.chip {
  font-size: 12px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.04);
  color: var(--muted);
  cursor: pointer;
  transition: all 0.15s ease;
}
.chip:hover {
  background: rgba(15,246,210,0.08);
  border-color: var(--accent);
  color: var(--accent);
}

/* Side stats */
.stat {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px;
  border-radius: 12px;
  background: linear-gradient(90deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
}
.stat .left { display: flex; gap: 12px; align-items: center; }
.dot {
  width: 46px; height: 46px;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color: #04101a;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(138,90,248,0.15);
  font-family: 'Orbitron', sans-serif;
}
.stat .meta { text-align: right; }
.meta .m1 { font-weight: 700; color: #fff; font-size: 16px; }
.meta .m2 { color: var(--muted); font-size: 12px; }

/* JSON viewer box */
.jsonbox {
  margin-top: 12px;
  padding: 12px;
  border-radius: 12px;
  background: rgba(0,0,0,0.25);
  font-family: monospace;
  font-size: 12px;
  color: #cfeff0;
  max-height: 220px;
  overflow: auto;
  white-space: pre-wrap;
  border: 1px solid rgba(255,255,255,0.03);
}

/* Footer */
footer {
  max-width: 1100px;
  width: 100%;
  margin-top: 24px;
  text-align: center;
  color: var(--muted);
  font-size: 13px;
  padding: 12px;
  border-radius: 10px;
}
footer a { color: var(--accent); text-decoration: none; }
footer a.hidden-link { color: transparent; text-decoration: none; pointer-events: auto; }
footer small { display: block; margin-top: 6px; color: var(--muted); }

/* Badge helper */
.badge {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,0.02);
  color: var(--muted);
}
</style>
</head>
<body>

<!-- Top bar -->
<div class="topbar" role="banner">
  <h1>BCT IP Locator</h1>
  <div class="sub"> Pro </div>
</div>

<!-- Layout -->
<main class="layout" role="main">

  <!-- Left big column -->
  <section class="panel" aria-labelledby="main-title">
    <div class="panel-header">
      <div>
        <h2 id="main-title">üåê IP Information</h2>
        <div class="muted">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï/‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü IP ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡¶§‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶§‡¶æ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§ (Client-side request)</div>
      </div>
      <div class="badge" id="loadedAt">Loading‚Ä¶</div>
    </div>

    <!-- Primary info grid -->
    <div class="grid" id="primaryGrid" style="margin-top:18px">
      <div class="card">
        <div class="label">IP Address</div>
        <div class="mini-row">
          <div class="value big" id="ipAddr">-</div>
          <button class="copy-btn" data-copy="ipAddr">Copy</button>
        </div>
      </div>

      <div class="card">
        <div class="label">Hostname / Reverse DNS</div>
        <div class="mini-row">
          <div class="value" id="hostname">-</div>
          <button class="copy-btn" data-copy="hostname">Copy</button>
        </div>
      </div>

      <div class="card">
        <div class="label">Continent</div>
        <div class="value" id="continent">-</div>
      </div>

      <div class="card">
        <div class="label">Country</div>
        <div class="mini-row">
          <div>
            <div class="value" id="country">-</div>
            <div class="muted" id="countryFull">-</div>
          </div>
          <button class="copy-btn" data-copy="country">Copy</button>
        </div>
      </div>

      <div class="card">
        <div class="label">Region / State</div>
        <div class="value" id="region">-</div>
      </div><div class="stat">
      <div class="left">
        <div class="dot">SEC</div>
        <div>
          <div class="m1" id="s_sec">-</div>
          <div class="m2">Proxy / VPN / Tor</div>
        </div>
      </div>
      <div class="meta">
        <div class="m1" id="s_time">-</div>
        <div class="m2">Timezone</div>
      </div>
    </div>

    <div class="panel" style="padding:12px;">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="label" style="margin:0">Quick Actions</div>
          <div class="muted" style="margin-top:6px">Useful shortcuts</div>
        </div>
        <div>
          <button class="copy-btn" id="copyAll">Copy IP</button>
        </div>
      </div>

      <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap">
        <button class="chip" id="openMail">Contact</button>
        <button class="chip" id="whoisBtn">WHOIS</button>
        <button class="chip" id="rdnsBtn">Reverse DNS</button>
        <button class="chip" id="asBtn">ASN Lookup</button>
      </div>
    </div>

    <div class="panel" style="padding:10px; text-align:center">
      <div class="muted">¬©Ô∏è All Right Reserved - 2025 :</div>
      <div style="margin-top:6px"><a href="mailto:bangladeshcybertroopsbct@gmail.com" style="color:var(--accent); text-decoration:none">Bangladesh Cyber Troops</a></div>
      <small style="display:block; margin-top:10px">Developer: <a class="hidden-link" href="https://www.facebook.com/100000109914730" target="_blank" rel="noopener">Adnan Hasan Sakib</a></small>
    </div>

  </aside>
</main>

<script>
(function(){
  const els = (id)=>document.getElementById(id);
  function set(id, val){ const e = els(id); if(e) e.textContent = val ?? '-'; }

  // Safe getter
  function getSafe(obj, path, fallback='-'){
    try{
      const v = path.split('.').reduce((s,p)=>s && s[p] !== undefined ? s[p] : undefined, obj);
      return v === undefined || v === null ? fallback : v;
    }catch(e){ return fallback; }
  }

  // Browser sniff (simple)
  function detectBrowser(){
    const ua = navigator.userAgent;
    let name = 'Unknown';
    if (ua.indexOf("Firefox") !== -1) name = 'Firefox';
    else if (ua.indexOf("Opera") !== -1 || ua.indexOf("OPR") !== -1) name = 'Opera';
    else if (ua.indexOf("Trident") !== -1) name = 'Internet Explorer';
    else if (ua.indexOf("Edge") !== -1) name = 'Edge';
    else if (ua.indexOf("Chrome") !== -1) name = 'Chrome';
    else if (ua.indexOf("Safari") !== -1) name = 'Safari';
    const version = (ua.match(/(firefox|fxios|chrome|crios|safari|edg|opr|opera|trident)\/?\s*(\d+)/i) || [,'',navigator.appVersion])[2];
    return name + (version ? ' ' + version : '');
  }

  // Platform
  function detectPlatform(){
    const p = navigator.platform || 'Unknown';
    return p;
  }

  // Format security summary
  function securitySummary(sec){
    if(!sec) return '-';
    const parts = [];
    if (sec.proxy) parts.push('Proxy');
    if (sec.vpn) parts.push('VPN');
    if (sec.tor) parts.push('Tor');
    if (sec.hosting) parts.push('Hosting');
    if (parts.length===0) return 'No (detected)';
    return parts.join(' ‚Ä¢ ');
  }

  // Copy helper
  function copyText(t){
    if(!t) return;
    navigator.clipboard?.writeText(t).then(()=> {
      // small visual feedback could be added
    }).catch(()=>{ // fallback
      const ta = document.createElement('textarea');
      ta.value = t; document.body.appendChild(ta);
      ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
    });
  }

  // wire copy buttons
  document.addEventListener('click', function(e){
    const btn = e.target.closest('[data-copy]');
    if(btn){
      const id = btn.getAttribute('data-copy');
      const t = els(id)?.textContent || '';
      copyText(t.trim());
      btn.textContent = 'Copied';
      setTimeout(()=> btn.textContent = 'Copy', 1200);
    }
  });

  // quick action buttons
  els('openMail').addEventListener('click', ()=> location.href = 'mailto:bangladeshcybertroopsbct@gmail.com');
  els('whoisBtn').addEventListener('click', ()=>{
    const ip = els('ipAddr').textContent.trim();
    if(ip && ip !== '-') window.open('https://whois.arin.net/rest/ip/' + ip, '_blank');
  });
  els('rdnsBtn').addEventListener('click', ()=>{
    const host = els('hostname').textContent.trim();
    if(host && host !== '-') window.open('https://dns.google/resolve?name=' + host, '_blank');
    else {
      const ip = els('ipAddr').textContent.trim();
      if(ip && ip !== '-') window.open('https://dns.google/resolve?name=' + ip, '_blank');
    }
  });
  els('asBtn').addEventListener('click', ()=>{
    const asn = els('asn').textContent.trim();
    if(asn && asn !== '-') window.open('https://bgp.he.net/' + asn.replace(/\s/g,''), '_blank');
  });
  els('copyAll').addEventListener('click', ()=>{
    const ip = els('ipAddr').textContent.trim();
    if(ip && ip!=='-') copyText(ip);
    els('copyAll').textContent = 'Copied';
    setTimeout(()=> els('copyAll').textContent = 'Copy IP', 1200);
  });

  // Main load
  (async function load(){
    const q = new URLSearchParams(window.location.search).get('ip');
    const endpoint = q 
      ? `https://ipwho.is/${encodeURIComponent(q)}?language=en` 
      : `https://ipwho.is/?language=en`;
    const loadedAt = new Date().toLocaleString();
    try{
      const resp = await fetch(endpoint, { headers: { 'Accept':'application/json' }});
      const j = await resp.json();

      // Fill primary fields (safely)
      const ip = getSafe(j,'ip','-');
      set('ipAddr', ip);
      set('hostname', getSafe(j,'hostname','-'));
      set('continent', getSafe(j,'continent','-'));
      set('country', getSafe(j,'country','-'));
      set('countryFull', getSafe(j,'country_code','-') + ' ‚Ä¢ ' + getSafe(j,'country','-'));
      set('region', getSafe(j,'region','-'));
      set('city', getSafe(j,'city','-'));
      set('postal', getSafe(j,'postal','-'));
      const lat = getSafe(j,'latitude', '-');
      const lon = getSafe(j,'longitude', '-');
      set('latlon', (lat !== '-' && lon !== '-') ? (lat + ', ' + lon) : '-');
      set('timezone', getSafe(j,'timezone.id', getSafe(j,'timezone','-')));
      set('utc', getSafe(j,'timezone.offset', '-'));
      const cur = getSafe(j,'currency.code','-') + (getSafe(j,'currency.symbol','-') ? ' (' + getSafe(j,'currency.symbol','-') + ')' : '');
      set('currency', cur);
      set('calling', getSafe(j,'calling_code','-'));
      set('isp', getSafe(j,'connection.isp', getSafe(j,'org','-')));
      const asn = getSafe(j,'connection.asn','-') + (getSafe(j,'connection.org','') ? ' ‚Ä¢ ' + getSafe(j,'connection.org') : '');
      set('asn', asn);
      set('connType', getSafe(j,'connection.type','-'));
      const security = getSafe(j,'security', null);
      set('securityInfo', security ? securitySummary(j.security) : '-');
      // Full address
      let fullAddr = [ getSafe(j,'city',''), getSafe(j,'region',''), getSafe(j,'postal',''), getSafe(j,'country','') ]
                      .filter(x=>x && x!=='-').join(', ');
      if(!fullAddr) fullAddr = '-';
      set('fullAddress', fullAddr);

      // Side summary
      set('s_ip', ip);
      set('s_loc', fullAddr !== '-' ? fullAddr : getSafe(j,'country','-'));
      set('s_isp', getSafe(j,'connection.isp','-'));
      set('s_asn', getSafe(j,'connection.asn','-'));
      set('s_sec', security ? securitySummary(j.security) : 'No');
      set('s_time', getSafe(j,'timezone.id','-'));

      // Client info
      set('browser', detectBrowser());
      set('platform', detectPlatform());
      set('lang', navigator.language || navigator.userLanguage || '-');
      set('viewport', `${window.innerWidth}√ó${window.innerHeight}`);

      // JSON box (pretty)
      if(els('jsonBox')) els('jsonBox').textContent = JSON.stringify(j, null, 2);

      // Show loadedAt
      if(els('loadedAt')) els('loadedAt').textContent = 'Loaded: ' + loadedAt;
    } catch(err){
      if(els('jsonBox')) els('jsonBox').textContent = 'Failed to load data ‚Äî ' + (err && err.message ? err.message : '');
      if(els('loadedAt')) els('loadedAt').textContent = 'Failed';
      console.error(err);
      alert('‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶è ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‚Äî ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶∏‡¶Ç‡¶Ø‡ßã‡¶ó ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶™‡¶∞‡ßá ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
    }
  })();

})();
</script>

</body>
</html>
